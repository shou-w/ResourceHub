éå¸¸ã«è‰¯ã„æŒ‡æ‘˜ã§ã™ï¼ç›£è¦–ãƒ„ãƒ¼ãƒ«è‡ªä½“ã®å¯ç”¨æ€§ã‚’ç¢ºä¿ã™ã‚‹ã“ã¨ã¯é‡è¦ãªèª²é¡Œã§ã€å®Ÿéš›ã®é‹ç”¨ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå¯¾ç­–ãŒå–ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

## å¯¾ç­–æ–¹æ³•

**1. å†—é•·åŒ–ãƒ»é«˜å¯ç”¨æ€§æ§‹æˆ**
```yaml
# Kubernetes ã§ã®ä¾‹
apiVersion: apps/v1
kind: Deployment
metadata:
  name: prometheus
spec:
  replicas: 3  # è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
  strategy:
    type: RollingUpdate
```

**2. è‡ªå‹•å¾©æ—§ã®ä»•çµ„ã¿**
- **Kubernetes**: Deployment/ReplicaSetã«ã‚ˆã‚‹è‡ªå‹•å†èµ·å‹•
- **Docker Compose**: `restart: always`ã«ã‚ˆã‚‹è‡ªå‹•å¾©æ—§
- **Docker Swarm**: ã‚µãƒ¼ãƒ“ã‚¹ãƒ¬ãƒ™ãƒ«ã§ã®å¾©æ—§

**3. å¤šå±¤ç›£è¦–ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**
- **å†…éƒ¨ç›£è¦–**: Prometheus/Grafanaï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è©³ç´°ï¼‰
- **å¤–éƒ¨ç›£è¦–**: å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ã®pingã‚„HTTPãƒã‚§ãƒƒã‚¯
- **ã‚¤ãƒ³ãƒ•ãƒ©ç›£è¦–**: ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹ä½µç”¨

**4. å®Ÿä¾‹æ§‹æˆ**
```yaml
# ç›£è¦–ãƒ„ãƒ¼ãƒ«ã®ç›£è¦–
services:
  prometheus:
    image: prom/prometheus
    restart: always
    healthcheck:
      test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost:9090/-/healthy"]
      interval: 30s
      timeout: 10s
      retries: 3
```

## ç¾å®Ÿçš„ãªé‹ç”¨

**å°è¦æ¨¡ç’°å¢ƒ:**
- ç›£è¦–ãƒ„ãƒ¼ãƒ«ã®åœæ­¢ãƒªã‚¹ã‚¯ã¯ã‚ã‚‹ç¨‹åº¦å—ã‘å…¥ã‚Œã‚‹
- ã‚·ãƒ³ãƒ—ãƒ«ãª`restart: always`ã§å¯¾å¿œ

**é‡è¦ãªã‚·ã‚¹ãƒ†ãƒ :**
- å¤–éƒ¨ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆDatadogã€PagerDutyãªã©ï¼‰ã‚‚ä½µç”¨
- ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ è‡ªä½“ã‚’åˆ¥ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã§é‹ç”¨
- ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆAWS CloudWatchç­‰ï¼‰ã¨çµ„ã¿åˆã‚ã›

ç›£è¦–ãƒ„ãƒ¼ãƒ«ãŒåœæ­¢ã™ã‚‹ãƒªã‚¹ã‚¯ã¯ç¢ºå®Ÿã«ã‚ã‚‹ã®ã§ã€é‡è¦åº¦ã«å¿œã˜ã¦é©åˆ‡ãªå†—é•·åŒ–ã‚’æ¤œè¨ã™ã‚‹ã®ãŒè³¢æ˜ã§ã™ã€‚

---

ã¯ã„ã€åŸºæœ¬çš„ã«ã¯ãã®é€šã‚Šã§ã™ï¼ã„ãã¤ã‹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒã‚ã‚Šã¾ã™ã€‚

## è‡ªä½œã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã®å®Ÿè£…

**ã‚·ãƒ³ãƒ—ãƒ«ãªBashã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹:**
```bash
#!/bin/bash
TARGET_HOST="myapp.example.com"
WEBHOOK_URL="https://hooks.slack.com/services/..."

if ! ping -c 1 $TARGET_HOST &> /dev/null; then
    curl -X POST -H 'Content-type: application/json' \
    --data '{"text":"ğŸš¨ '"$TARGET_HOST"' is down!"}' \
    $WEBHOOK_URL
fi
```

**cronã§ã®å®šæœŸå®Ÿè¡Œ:**
```bash
# crontab -e
*/5 * * * * /path/to/health_check.sh
```

**Python ã§ã®ä¾‹:**
```python
import requests
import time
from datetime import datetime

def check_health(url, webhook_url):
    try:
        response = requests.get(url, timeout=10)
        if response.status_code != 200:
            send_alert(f"HTTP {response.status_code} error", webhook_url)
    except requests.exceptions.RequestException:
        send_alert(f"Cannot reach {url}", webhook_url)

def send_alert(message, webhook_url):
    requests.post(webhook_url, json={"text": f"ğŸš¨ {message}"})

# 5åˆ†é–“éš”ã§å®Ÿè¡Œ
while True:
    check_health("https://myapp.com/health", WEBHOOK_URL)
    time.sleep(300)
```

## æ—¢å­˜ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ãƒ„ãƒ¼ãƒ«

**ç„¡æ–™ãƒ»ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹:**
- **Uptime Kuma**: Web UIã§ç®¡ç†ã§ãã‚‹ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆå‹
- **Blackbox Exporter**: Prometheusã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ 
- **Zabbix**: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºç´šã®ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 

**å•†ç”¨ã‚µãƒ¼ãƒ“ã‚¹:**
- **Pingdom**: æœ‰åãªå¤–éƒ¨ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹
- **UptimeRobot**: ç„¡æ–™ãƒ—ãƒ©ãƒ³ã‚ã‚Š
- **StatusCake**: HTTP/pingç›£è¦–

**ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼:**
- **AWS Route 53 Health Checks**
- **Google Cloud Monitoring**
- **Azure Application Insights**

## å®Ÿç”¨çš„ãªé¸æŠ

**å€‹äººãƒ»å°è¦æ¨¡:**
- Uptime Kumaã‚’ã‚³ãƒ³ãƒ†ãƒŠã§èµ·å‹•
- UptimeRobotã®ç„¡æ–™ãƒ—ãƒ©ãƒ³ã‚’åˆ©ç”¨

**ä¸­è¦æ¨¡ä»¥ä¸Š:**
- å•†ç”¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ï¼ˆä¿¡é ¼æ€§é‡è¦–ï¼‰
- è‡ªä½œã‚¹ã‚¯ãƒªãƒ—ãƒˆ + è¤‡æ•°ã®é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«

è‡ªä½œã™ã‚‹å ´åˆã¯ã€é€šçŸ¥ã®é‡è¤‡é˜²æ­¢ã‚„ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã‚‚è€ƒæ…®ã™ã‚‹ã¨ã‚ˆã‚Šå®Ÿç”¨çš„ã«ãªã‚Šã¾ã™ã€‚